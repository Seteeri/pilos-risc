(symbols '(gic pico))

(local)
(TIMER-IRQ 
 +Intr +Ppi +Spi +Sgi)


(def 'TIMER-IRQ 27)
  
(class +Intr)
(dm grp> (Bits))
(dm ena> (Fn Bit))
(dm pen> (Fn Bit))
(dm act> (Fn Bit))
(dm pri> (Bits))
(dm tgt> (Bits))
(dm cfg> (Bits))

#{
  Private Peripheral Interrupt

  Generated explicitly by software by writing to a dedicated distributor register, the Software Generated Interrupt Register Most commonly used for inter-core communication
  SGIs can be targeted at all, or at a selected group of cores in the system
  Interrupt numbers 0-15 are reserved for this
  Software manages the exact interrupt number used for communication
}#

(class +Ppi) 


#{
  Shared Peripheral Interrupt

  Generated by a peripheral that is private to an individual core
  Interrupt numbers 16-31 are reserved for this
  PPIs identify interrupt sources private to the core
  Independent of the same source on another core, for example, per-core timer
}#

(class +Spi) 


#{
  Software generated interrupts

  Generated by a peripheral that the Interrupt Controller can route to more than one core
  Interrupt numbers 32-1020 are used for this
  SPIs are used to signal interrupts from various peripherals accessible across the whole system
}#

(class +Sgi)

(symbols '(pico))
